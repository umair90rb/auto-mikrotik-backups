{% extends "base.html" %}

{% block title %}{{ 'Edit' if router else 'Add' }} Router - MikroTik Backup Manager{% endblock %}

{% block content %}
<div class="page-header">
    <h1>{{ 'Edit' if router else 'Add' }} Router</h1>
</div>

<div class="form-container">
    <form method="POST">
        <div class="form-group">
            <label for="name">Router Name</label>
            <input type="text" id="name" name="name" value="{{ router.name if router else '' }}" required>
            <small>A friendly name to identify this router</small>
        </div>

        <div class="form-group">
            <label for="ip">IP Address</label>
            <input type="text" id="ip" name="ip" value="{{ router.ip if router else '' }}" required
                   pattern="^(\d{1,3}\.){3}\d{1,3}$|^[a-zA-Z0-9.-]+$"
                   placeholder="192.168.1.1 or hostname">
        </div>

        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" id="username" name="username" value="{{ router.username if router else '' }}" required>
        </div>

        <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" name="password" value="{{ router.password if router else '' }}" required>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="api_port">API Port</label>
                <input type="number" id="api_port" name="api_port" value="{{ router.api_port if router else 8728 }}" min="1" max="65535">
                <small>Default: 8728</small>
            </div>

            <div class="form-group">
                <label for="ftp_port">FTP Port</label>
                <input type="number" id="ftp_port" name="ftp_port" value="{{ router.ftp_port if router else 21 }}" min="1" max="65535">
                <small>Default: 21</small>
            </div>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">{{ 'Update' if router else 'Add' }} Router</button>
            <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
